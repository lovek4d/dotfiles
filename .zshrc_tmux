# simple aliases
alias tl='tmux list-sessions'
alias td='tmux detach'
alias tn='tmux new-session -s'

## attach session (inline or fzf select)
ta() {
  if [[ -n "$1" ]]; then
    tmux attach -t "$1"
  else
    local session
    session=$(tmux list-sessions -F '#{session_name}' 2>/dev/null \
      | fzf --prompt='attach session> ' --height=40% --reverse)
    [[ -z "$session" ]] && return 1
    tmux attach -t "$session"
  fi
}

## switch session (inline or fzf select)
ts() {
  if [[ -n "$1" ]]; then
    if [[ -n "$TMUX" ]]; then
      tmux switch-client -t "$1"
    else
      tmux attach -t "$1"
    fi
  else
    local session
    session=$(tmux list-sessions -F '#{session_name}' 2>/dev/null \
      | fzf --prompt='switch session> ' --height=40% --reverse)
    [[ -z "$session" ]] && return 1
    if [[ -n "$TMUX" ]]; then
      tmux switch-client -t "$session"
    else
      tmux attach -t "$session"
    fi
  fi
}

## kill session (inline or fzf select)
tk() {
  if [[ -n "$1" ]]; then
    tmux kill-session -t "$1"
  else
    local session
    session=$(tmux list-sessions -F '#{session_name}' 2>/dev/null \
      | fzf --prompt='kill session> ' --height=40% --reverse)
    [[ -z "$session" ]] && return 1
    tmux kill-session -t "$session"
  fi
}
